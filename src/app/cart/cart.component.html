<div
  class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"
  id="my-modal"
>
  <div
    class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"
  >
    <div class="flex justify-between items-center pb-3">
      <p class="text-2xl font-bold">Carrito</p>
      <div class="cursor-pointer" (click)="closeCart()">
        <svg
          class="fill-current text-black"
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 18 18"
        >
          <path
            d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"
          ></path>
        </svg>
      </div>
    </div>

    <div class="mt-4">
      @for (item of cartService.items(); track item.id) {
        <div class="mb-4 pb-4 border-b">
          <p class="font-semibold">{{ item.name }}</p>
          <p>{{ item.price | currency: "EUR" : "symbol" : "1.2-2" }}</p>
          <div class="flex items-center mt-2">
            <button
              (click)="decrementQuantity(item)"
              class="px-2 py-1 bg-gray-200 rounded"
            >
              -
            </button>
            <span class="mx-2 w-12 text-center">{{ item.quantity }}</span>
            <button
              (click)="incrementQuantity(item)"
              class="px-2 py-1 bg-gray-200 rounded"
            >
              +
            </button>
            <button
              (click)="removeItem(item.id)"
              class="ml-4 p-1 bg-red-500 text-white rounded"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polyline points="3 6 5 6 21 6"></polyline>
                <path
                  d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      }
    </div>

    <div class="mt-4">
      <p class="text-lg font-semibold">
        Total:
        {{ cartService.totalPrice() | currency: "EUR" : "symbol" : "1.2-2" }}
      </p>
      <button
        (click)="onSubmit()"
        class="mt-2 px-4 py-2 bg-gray-800 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300"
      >
        Confirmar Compra
      </button>
    </div>
  </div>
</div>
